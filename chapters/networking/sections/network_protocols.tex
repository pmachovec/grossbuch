\newsection{Network protocols}
\label{networkprotocols}

\newsubsection{TCP}
\index{IP}
\label{tcp}

\newsubsection{IP}
\index{IP}
\label{ip}

\newsubsection{HTTP (Hypertext Transfer Protocol)}
\index{HTTP}
\index{Hypertext transfer protocol}
\index{Request line}
\index{Response line}
\label{http}
It's~a~\hyperref[protocolstandard]{protocol} for~transferring data over the~web.
It's~based on~the~\hyperref[clientserverarchitecture]{client--server architecture}.
A~client, typically (but~not~necessarily) a~web browser, sends so~called \mbit{request} to~a~server.
It's~just a~bunch of~text encapsulating client's requirements -- what does it want from the~server.
There are many types of~requests, but~the~most important are~\mbit{GET} and~\mbit{POST}.
Requests can~contain so~called \mbit{parameters}.
These are simple key--value pairs, based on~which servers can~react differently to~otherwise same requests.
This is typical for~\hyperref[applicationserver]{application servers}.

\example[HTTP \textit{POST} request, parameters are~visible at~the~bottom]
%! language = TEXT
\begin{lstlisting}
    POST /someFolder HTTP/1.1
    HOST: www.somepage.com
    User-Agent: Mozilla/5.0
    Accept: /*/
    Accept-Language: en-US,en;q=0.5
    Content-Type: application/x-www-form-urlencoded;
    Referer: http://www.somepage.com/someFolder
    Content-Length: 114

    name=Johny&email=jbravo40\%40gmail.com&company=bigzeronothing
\end{lstlisting}

\noindent The~first line is so~called \textit{request line}.
It~contains a~HTTP command, which contains method type, target point at~the~server and~HTTP \hyperref[protocolstandard]{protocol} version.
The~rest of~the~top part (above the~empty line) is~the~request header.
It~contains request metadata -- additional information about the~request used for~the~request processing by~the~server
The~bottom part (below the~empty line) is~the~request body.
It~contains request parameters.
In~\mbit{GET} methods parameters are~a~part of~the~endpoint in~the~request line and~there's no~body.

Server reads the~request, processes it, eventually triggers some \hyperref[webserviceapplication]{web service} and~sends back so~called \mbit{response}.
Responses have very similar structure to~requests.
They also have some an~initial line -- \textit{response line}, header and~body.
The~response line contains HTTP \hyperref[protocolstandard]{protocol} version and~a~status code --  a~numeric representation of~the~request processing result.
For~example, the~value 200 means success.
The~header contains response metadata usable at~the~client side.
The~body contains actual request processing result for~the~client.

When a~response gets to~a~web browser, the~browser displays the~body contents.
And~if~the~header of~the~request contains the~content type set to~\mbitq{text/html}, which is usually the~case, the~body is~rendered as~a~web page in~the~browser.

\example[HTTP response]
%! language = TEXT
\begin{lstlisting}
    HTTP/1.1 200 OK
    Content-Type: text/html
    Date Fri 13 Dec 2019 12:13:14 CET
    Server: Apache/2.2.22 (Ubuntu)
    X-Powered-By: PHP/5.3.10-1 ubuntu3.2
    Content-Length: 2345

    <!DOCTYPE html>
    <html language="en-US">
    ...
    </html>
\end{lstlisting}
\notenonl The~HTTP \hyperref[protocolstandard]{protocol} isn't used only for~displaying web pages.
For~example the~\hyperref[soap]{SOAP} or~\hyperref[rest]{REST} communication between two running programs also uses this protocol.
In~this case the~content type is different.

\newsubsection{HTTPS (HTTP over TLS)}
\index{HTTPS}
\index{Handshake}
\label{https}
It's~an~extension of~the~HTTP \hyperref[protocolstandard]{protocol} using both \hyperref[symmetriccryptography]{symmetric} and~\hyperref[asymmetriccryptography]{asymmetric} \hyperref[cryptography]{cryptography} techniques for~securing the~\hyperref[clientserverarchitecture]{client--server} communication.
At~the~first request from the~client the~server provides its \hyperref[tls]{TLS} \hyperref[certificate]{certificate}.
The~client verifies the~certificate in~the~standard \hyperref[tls]{TLS}~way.
After the~verification the~client encrypts its \hyperref[symmetriccryptography]{symmetric key} with the~public key from the~server certificate and~sends it to~the~server.
The~server decrypts the~key with its private key.
Now~both client and~server have safely exchanged a~symmetric key (so~called \mbit{handshake}) and~encrypt and~decrypt their messages with the~fast \hyperref[symmetriccryptography]{symmetrically encrypted} communication.

\newsubsection{SMTP}
\index{SMTP}
\label{smtp}

\newsubsection{SSH (Secure Shell)}
\index{SSH}
\index{Secure shell}
\label{ssh}
It's a~\hyperref[protocolstandard]{protocol} for~network communication that includes cryptographic features to~encrypt the~communication.
It~enables secure communication over a~network in~a~\hyperref[clientserverarchitecture]{client--server architecture} that generally is~not secured.
It's typically used for~remote command line login and~remote commands execution, but~any network service can~be secured with SSH (e.g., file transfer or~tunneling).

It~uses a~mechanism similar to~\hyperref[https]{HTTPS} to~secure the~connection, complemented by~\hyperref[salt]{salted} \hyperref[authenticationauthorization]{authentication} at~the~beginning.
At~first the~client \hyperref[authenticationauthorization]{authenticates} with a~\hyperref[keypassword]{password} to~the~server.
Then both sides exchange \hyperref[asymmetriccryptography]{asymmetric public keys}, sometimes the~exchange must~be done even manually in~advance, for~example, on~Git~hubs.
Then both sides establish \hyperref[symmetriccryptography]{symmetrically encrypted} connection using exchanged public keys.
This~is just a~simple description, the~real set of~steps is~rather complicated.

SSH~doesn't use \hyperref[tls]{TLS certification mechanism}.
It~can, however, use its own \hyperref[certificate]{certificates}.
These certificates don't follow the~\hyperref[x509]{\mbox{X.509}} standard.

\newsubsection{SFTP (SSH File Transfer Protocol)}
\index{SFTP}
\index{SSH file transfer protocol}
\label{sftp}
It's~a~\hyperref[protocolstandard]{protocol} for~secured network file access, file transfer, and~file management.
It's~an~extension of~the \hyperref[ssh]{SSH protocol}, therefore, when working with SFTP, you often have to~deal with documentation, terms and,~when programming, also object names that contain the~text~\textit{SSH}.
For~example, one of~the~current Java libraries for~SFTP file management is~called~\textit{SSHJ}.

\warning It has nothing to~do with the~FTP \hyperref[protocolstandard]{protocol}.
That is completely different, very old and~unsecured protocol for network file transferring.

\newsubsection{SOAP (Simple Object Access Protocol)}
\index{SOAP}
\index{Simple object access protocol}
\label{soap}
It's~a~\hyperref[protocolstandard]{protocol} for~exchanging structured information (messages) in~the~implementation of~\hyperref[webserviceapplication]{web services} in~computer networks.
It's~an~extension of~the~\hyperref[http]{HTTP protocol}.
Messages exchanged in~HTTP request/response bodies are~XMLs and~these~XMLs must always contain few standardised elements.
The~whole XML has a~root element \mbitq{soapenv:Envelope}, and~this~has two direct subelements \mbitq{soapenv:Header} and~\mbitq{soapenv:Body}[.]
Possible contents of~the~header and~the~body are~described by \mbox{a server's \hyperref[wsdl]{WSDL}}.
