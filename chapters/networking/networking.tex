\newchapter{Networking}
\newsection{Client--Server Architecture}
\index{Client--server architecture}
\label{clientserverarchitecture}
\newline\todo It's a\dots Client is\dots Server is\dots

\newsection{TCP/IP}
\index{TCP/IP}
\label{tcpip}

\newsection{Network protocols}

\newsubsection{TCP}
\index{IP}
\label{tcp}

\newsubsection{IP}
\index{IP}
\label{ip}

\newsubsection{Hypertext Transfer Protocol (HTTP)}
\index{Hypertext transfer protocol}
\index{HTTP}
\index{Request line}
\index{Response line}
\label{http}
It's a~protocol for~transferring data over the~\hyperref[internetweb]{web}.
It's~based on~the~\hyperref[clientserverarchitecture]{client--server architecture}.
A~client, typically (but~not~necessarily) a~web browser, sends so~called \mboxtextit{request} to~a~server.
It's~just a~bunch of~text encapsulating client's requirements\,--\,what does it want from the~server.
There are many types of~requests, but~the~most important are~\mboxtextit{GET} and~\mboxtextit{POST}.
Requests can~contain so~called \mboxtextit{parameters}.
These are simple key--value pairs, based on~which servers can~react differently to~otherwise same requests.
This is typical for~\hyperref[applicationserver]{application servers}.

\begin{lstlisting}[title={Example of a~HTTP \textit{POST} request, parameters are~visible at~the~bottom}]
    POST /someFolder HTTP/1.1
    HOST: www.somepage.com
    User-Agent: Mozilla/5.0
    Accept: /*/
    Accept-Language: en-US,en;q=0.5
    Content-Type: application/x-www-form-urlencoded;
    Referer: http://www.somepage.com/someFolder
    Content-Length: 114

    name=Johny&email=jbravo40\%40gmail.com&company=bigzeronothing
\end{lstlisting}

\noindent The~first line is so~called \textit{request line}.
It~contains a~HTTP command, which contains method type, target point at~the~server and~HTTP protocol version.
The~rest of~the~top part (above the~empty line) is~the~request header.
It~contains request metadata\,--\,additional information about the~request used for~the~request processing by~the~server
The~bottom part (below the~empty line) is~the~request body.
It~contains request parameters.
In~\mboxtextit{GET} methods parameters are~a~part of~the~endpoint in~the~request line and~there's no~body.

Server reads the~request, processes it, eventually triggers some \hyperref[webserviceapplication]{web service} and~sens back so~called \mboxtextit{response}.
Responses have very similar structure to~requests.
They also have some an~initial line\,--\,\textit{response line}, header and~body.
The~response line contains HTTP protocol version and~a~status code\,--\, a~numeric representation of~the~request processing result.
For~example, the~value 200 means success.
The~header contains response metadata usable at~the~client side.
The~body contains actual request processing result for~the~client.

When a~response gets to~a~web browser, the~browser displays the~body contents.
And~if~the~header of~the~request contains the~content type set to~\mboxtextitquoted{text/html}, which is usually the~case, the~body is~rendered as~a~web page in~the~browser.

\begin{lstlisting}[title={Example of a~HTTP response}]
    HTTP/1.1 200 OK
    Content-Type: text/html
    Date Fri 13 Dec 2019 12:13:14 CET
    Server: Apache/2.2.22 (Ubuntu)
    X-Powered-By: PHP/5.3.10-1 ubuntu3.2
    Content-Length: 2345

    <!DOCTYPE html>
    <html language="en-US:>
    ...
    </html>
\end{lstlisting}

\notenonl The~HTTP protocol isn't used only for~displaying \hyperref[internetweb]{web} pages.
For~example the~\hyperref[rest]{REST} communication between two running programs also uses this protocol.
In~this case the~content type is \mboxtextitquoted{application/json}.

\newsubsection{SMTP}
\index{SMTP}
\label{smtp}

\newsubsection{Secure \hyperref[shellcligui]{Shell} (SSH)}
\index{Secure shell}
\index{SSH}
\label{ssh}
It's a~protocol for~network communication that includes cryptographic features to~encrypt the~communication.
It~enables secure communication over a~network in~a~\hyperref[clientserverarchitecture]{client--server architecture} that generally is~not secured.
It's typically used for~remote command line login and~remote commands execution, but~any network service can~be secured with SSH (e.g., file transfer or~tunneling).
It~uses \hyperref[asymmetricencryption]{asymmetric encryption} approach to~secure the~network communication.

\newsubsection{\hyperref[ssh]{SSH} File Transfer Protocol (SFTP)}
\index{SSH file transfer protocol}
\index{SFTP}
\label{sftp}
It's a~protocol for~secured network file access, file transfer, and~file management.
It's an~extension of~the \hyperref[ssh]{SSH protocol}, therefore, when working with SFTP, you often have to~deal with documentation, terms and,~when programming, also object names that contain the~text~\textit{SSH}.
For~example, one of~the~current Java libraries for~SFTP file management is~called~\textit{SSHJ}.

\warning It has nothing to~do with the~FTP protocol.
That is completely different, very old and~unsecured protocol for network file transferring.

\newsection{Internet VS Web}
\index{Internet}
\index{Web}
\label{internetweb}
\begin{itemize}
    \item \textbf{Internet} is a~huge computer network connecting smaller networks, computers, smartphones and~other devices.
          Simply it's one big computer network constructed all over the world.
          Sometimes it's referred as a~network of~networks.
          The~word \textit{Internet} therefore denotes the~connecting infrastructure, i.e.,~hardware.
    \item \textbf{Web}, more precisely \textit{World Wide Web}, is~one of~more software systems using the~Internet infrastructure.
          It~mainly serves for~sharing visualised and mutualy linked HTML documents accessed by web browsers, but~can also provide \hyperref[webserviceapplication]{web services}.
          Information exchange on~the~Web is~performed exclusively with the~\hyperref[http]{HTTP}~protocol.
          I.e.,~other systems like email (\hyperref[smtp]{SMTP}~protocol), remote \hyperref[shellcligui]{shell} (\hyperref[ssh]{SSH}~protocol) or instant messaging (many different protocols), which also run on the~Internet infrastructure, are~not a~part of~Web.
\end{itemize}

\newsection{Namespaces}
\index{Namespace}
\label{namespaces}

\newsection{Web Server}
\index{Web server}
\label{webserver}
It's typically a~software, but~can~be even a~physical computer, that stores, processes and sends HTML documents to clients over a~network, usually \hyperref[internetweb]{the~Internet}.
Using dedicated software\,--\,a~web browser\,--\,clients see these documents as web pages.
The~communication with clients is mainly performed over the~\hyperref[http]{HTTP protocol}.
Based on~incoming request from a~client (initiated by a~web browser) the~server picks a~stored HTML document and sends it back to the~client in a~response.

A~web address entered to a~browser's address bar is separated to the~part identifying the~server's physical computer (\textit{www.something.com}) and the~part identifying the~wanted HTML document location (everything that follows).
The~location is referred from the~server's configured home folder.
For~example, consider that \textit{www.something.com} refers to~some computer with running Apache HTTP Server (a~concrete example of a~web server).
The~default home folder of~Apache HTTP servers is \textit{/home/www} and hasn't been configured otherwise in~this example.
You~enter \textit{www.something.com/one/two/three.html} to your web browser's address bar.
This sends a~\hyperref[http]{HTTP} request.
The~computer is reached over~\hyperref[dns]{DNS}, the~server gets the~request and it looks for the~file \mboxtextit{/home/www/one/two/three.html}.
If~the~file is found, its contents are~appended to~a~\hyperref[http]{HTTP} response, returned to your web browser and displayed.
If~not, you get the~dinosaur.

\newsection{Application Server}
\index{Application server}
\label{applicationserver}
Application servers are~very similar to web~servers, they're like web~servers with additional functionality.
They also get requests from clients and~send back responses and~they can~also retrieve static HTML document.
The~difference is that they can~furthermore trigger some more complex logic.
Application servers can, based on~incoming requests, execute programs written in~complex languages (Java, JavaScript, Python, C\# etc.).
These programs can then be called \hyperref[webserviceapplication]{web~services}.

\warning The~term \textit{web server} is~often used in~the~meaning of~\textit{application server}.
For~example, you~can~encounter claims that \hyperref[tomcat]{Tomcat}, a~typical example of~Java application server, is~a~web server.

\warning Do~not confuse \hyperref[tomcat]{Tomcat} with the~\href{https://en.wikipedia.org/wiki/Apache_HTTP_Server}{Apache HTTP Server}, often denoted as~\textit{Apache Server} or~simply \textit{Apache}.
That's a~typical \hyperref[webserver]{web server} designed for~static HTML documents handling.
It~supports some advanced logic using some \hyperref[scriptinglanguages]{scripting languages} like PHP or~Python, but~it~can't run Java programs.
On~the~other hand, \hyperref[tomcat]{Tomcat} serves mainly for~running Java programs (and~propagating their results to~web pages).

\newsection{Domain Name Service (DNS)}
\index{Domain name service}
\index{DNS}
\label{dns}

\newsection{Representational State Transfer (REST)}
\index{Representational State Transfer}
\index{REST}
\index{RESTful}
\label{rest}
It's~a~technique for~transferring data between two \hyperref[applicationprocessprogramservicethread]{programs} using the~\hyperref[http]{HTTP} protocol.
Transferred data can~be theoretically in~any string form, but~the~most popular nowadays is~the~\hyperref[json]{JSON} format.

The~first program has~the~role of~a~client and~initiates a~standard \hyperref[http]{HTTP} request.
The~request can, but~doesn't have~to, already contain some JSON data in~the~body.
It's~responsibility of~the~first program to~create the~JSON string and~include it to~the~request.

The~second program is~a~standard \hyperref[webserviceapplication]{web service}.
It~gets the~request, parses the~incoming JSON (if~there is~any), creates (another) JSON (also doesn't have~to), includes it to~a~response body and~sends the~response to~the~client program.

\hyperref[webserviceapplication]{Web services} supporting this type of~data transfer are~said to~have \mbox{REST \hyperref[api]{API}}.
To~make~it more complicated the~\mboxtextitquoted{RESTful} term is~sometimes used.
You~can~encounter many different combinations of~terms all~denoting a~\hyperref[webserviceapplication]{web service} supporting the~REST data transfer.
The~overview list follows:
\begin{itemize}
    \item Service with REST API
    \item Service with RESTful API
    \item REST web service
    \item RESTful web service
    \item REST service
    \item RESTful service
\end{itemize}

\noindent And~to~make it even more complicated you~can~also encounter a~term \textitquoted{\mbox{RESTful} application} or~\textitquoted{\mbox{RESTful} program}.
This can~denote both a~client side program or~a~server side web service supporting the~REST communication.
