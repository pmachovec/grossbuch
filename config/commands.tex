%! suppress = FileNotFound
\NewDocumentCommand{\newchapter}{m}{\chapter*{#1}\addcontentsline{toc}{chapter}{#1}}

\NewDocumentCommand{\newsection}{m}{\section*{#1}\addcontentsline{toc}{section}{#1}}

\NewDocumentCommand{\newsubsection}{m}{\subsection*{#1}\addcontentsline{toc}{subsection}{#1}}

\NewDocumentCommand{\includechapter}{m}{\include{chapters/#1/#1}}

\NewDocumentCommand{\includeepchapter}{m m}{\include{chapters/#1/#2/#2}}

\NewDocumentCommand{\inputsection}{m m}{\input{chapters/#1/sections/#2}}

\RenewDocumentCommand{\newline}{}{\vspace{\baselineskip}}

\NewDocumentCommand{\textbfcolor}{m m}{\textcolor{#1}{\textbf{#2}}}

\NewDocumentCommand{\highlight}{m O{black}}{\noindent\textcolor{#2}{\textbf{\mbox{#1}}}}

\NewDocumentCommand{\highlightit}{m O{black}}{\noindent\textit{\highlight{#1}[#2]}}

\NewDocumentCommand{\nosp}{}{\kern-0.5ex }

\NewDocumentCommand{\noindentnosp}{}{\nosp\noindent}

\NewDocumentCommand{\warningnonl}{}{\highlight{WARNING! }[red]}

\NewDocumentCommand{\notenonl}{}{\highlight{NOTE: }[ForestGreen]}

\NewDocumentCommand{\todononl}{}{\highlight{TODO }[blue]}

\NewDocumentCommand{\warningnonlnosp}{}{\nosp\warningnonl}

\NewDocumentCommand{\notenonlnosp}{}{\nosp\notenonl}

\NewDocumentCommand{\todononlnosp}{}{\nosp\todononl}

\NewDocumentCommand{\warning}{}{\newline\warningnonl}

\NewDocumentCommand{\note}{}{\newline\notenonl}

\NewDocumentCommand{\todo}{}{\newline\todononl}

\NewDocumentCommand{\examplenonl}{O{}}{\ifthenelse{\isempty{#1}}{\highlight{Example: }}{\highlight{Example -- #1: }}}

\NewDocumentCommand{\example}{O{}}{\newline\examplenonl[#1]}

\NewDocumentCommand{\tmnbf}{m m O{black}}{\tikzmarknode{#1}{\textbfcolor{#3}{#2}}}

\NewDocumentCommand{\itq}{m}{"\textit{#1}"}

\NewDocumentCommand{\itqs}{m}{\textquotesingle\textit{#1}\textquotesingle}

\NewDocumentCommand{\mbit}{m}{\mbox{\textit{#1}}} % mbox textit

\NewDocumentCommand{\mbl}{>{\SplitList{;;}}m}{\ProcessList{#1}{\mbox}} % mbox list, separated by ;;

\newif\iffirstitem
\firstitemtrue

\NewDocumentCommand{\spacembox}{m}{% mbox with preceding space
  \iffirstitem
    \mbl{#1}%
    \firstitemfalse
  \else
    \space\mbl{#1}%
  \fi
}

\NewDocumentCommand{\mbls}{>{\SplitList{;;;}}m}{\ProcessList{#1}{\spacembox}\firstitemtrue} % mbox list spaces (space on ;;;)

\NewDocumentCommand{\mbitq}{m}{\mbox{\itq{#1}}} % mbox textit quotes

\NewDocumentCommand{\mbitqs}{m}{\mbox{\itqs{#1}}} % mbox textit quotes single

\NewDocumentCommand{\mbitl}{m}{\textit{\mbl{#1}}} % mbox textit list, separated by ;;

\NewDocumentCommand{\mbitls}{m}{\textit{\mbls{#1}}} % mbox textit list spaces (space on ;;;)

\NewDocumentCommand{\mbitql}{m}{\itq{\mbl{#1}}} % mbox textit quotes list, separated by ;;

\NewDocumentCommand{\mbitqsl}{m}{\itqs{\mbl{#1}}} % mbox textit quotes single list, separated by ;;

\NewDocumentCommand{\mbitqls}{m}{"\textit{\mbls{#1}}"} % mbox textit quotes list spaces (space on ;;;)

\NewDocumentCommand{\mbitqsls}{m}{\textquotesingle\textit{\mbls{#1}}\textquotesingle} % mbox textit quotes single list spaces (space on ;;;)

\NewDocumentCommand{\drawarrow}{O{stealth-stealth} m m O{black} O{.3} O{}}{\draw[#1,line width=.6mm,shorten <=2pt,shorten >=2pt,#4,opacity=#5] (#2) to[#6] (#3);}

\NewDocumentCommand{\diagramarrow}{O{0mm} m m O{} O{} O{}}{\draw[-{Stealth[length=7mm, width=4mm]}, line width=.3mm, shorten <=-#1] (#2) to[#6] node[#5] {\tiny{#4}} (#3);}

\NewDocumentCommand{\captit}{m}{\caption*{\textit{#1}}}

\NewDocumentCommand{\Sc}{O{ForestGreen}}{\textcolor{#1}{\$}}

\NewDocumentCommand{\itembf}{m}{\item \textbf{#1}}

\NewDocumentCommand{\itembfd}{m}{\itembf{#1}~--}

\NewDocumentCommand{\chinese}{m}{\begin{CJK}{UTF8}{bsmi}#1\end{CJK}}

\NewDocumentCommand{\emten}{}{\enlargethispage{10mm}\thispagestyle{empty}}

\NewDocumentCommand{\emtwen}{}{\enlargethispage{20mm}\thispagestyle{empty}}
